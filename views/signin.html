<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrazione-ESQL-Esercitazioni</title>
    <link rel="shortcut icon" href="image/Seal_Bologna.svg.png" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <style>
    #role {
        width: 150px;
        padding: 10px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: #fff; /* Colore di sfondo */
        color: #333; /* Colore del testo */
        font-size: 16px; /* Dimensione del testo */
        font-family: Arial, sans-serif; /* Famiglia di caratteri */
    }
    /* Stile per le opzioni nel menu a discesa del ruolo */
    #role option {
        background-color: #fff; /* Colore di sfondo */
        color: #333; /* Colore del testo */
    }
    .left-column {
            flex: 1; 
            display: flex;
            flex-direction: column;
            justify-content: flex-end; 
            height: 100%;
        }
    </style>
</head>

<body class="signin_body">
    <header class="signin_header">
        <h1>Studia con ESQL</h1>
    </header>

    <div class="left-column">
        <img src="image/login.png" alt="grafica logo">
    </div>
    <div class="signin-container">
        <form action="../controllers/utils/SignInController.php" method="post">
            <h2>Registrazione <select id="role" name="role" required>
                <option value="" disabled selected>Scegli il tuo ruolo</option>
                <option value="professor">Docente</option>
                <option value="student">Studente</option>
            </select></h2>
            <input type="email" id="email" name="email"placeholder="Email" required>
            <input type="password" id="password" name="password" placeholder="Password" required>
            <input type="text" id="name" name="name" placeholder="Nome" required>
            <input type="text" id="surname" name="surname" placeholder="Cognome" required>
            <input type="number" id="matricola" name="matricola" placeholder="Matricola" required> <!--Matricola ??? -->
            <input type="text" id="registration_year" name="registration_year" placeholder="Anno Immatricolazione" required>
            <input type="text" id="course" name="course" placeholder="Corso" required>
            <input type="text" id="department" name="department" placeholder="Dipartimento" required>
            <input type="text" id="phone" name="phone" placeholder="Telefono">
            
            <input type="submit" value="invio">
            
        </form>
        <div id="message"></div>
        <p class="link"><a href="login.html">Accedi</a></p>
    </div>

    <footer class="signin_footer">
        <p>Alma Mater Studiorum</p>
        <h3>Universit√† di Bologna</h3>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        // Nascondi tutti i campi di input all'avvio della pagina
        window.addEventListener('DOMContentLoaded', function() {
            $('#email').hide(); 
            $('#password').hide();
            $('#name').hide();
            $('#surname').hide();
            $('#phone').hide();

            $('#course').hide();
            $('#department').hide();
            $('#matricola').hide();
            $('#registration_year').hide();
        });

        document.querySelector('#role').addEventListener("change", function() {
            var role = this.value;
            
            // Determina quali campi mostrare in base al ruolo selezionato
            switch(role) {
                case "professor":

                    $('#matricola').hide();
                    $('#registration_year').hide();
                    $('#matricola').prop('required', false);
                    $('#registration_year').prop('required', false);

                    $('#email').show(); 
                    $('#password').show();
                    $('#name').show();
                    $('#surname').show();
                    $('#phone').show();

                    $('#course').show();
                    $('#department').show();
                    $('#course').prop('required', true);
                    $('#department').prop('required', true);
                    break;
                case "student":
                    $('#course').hide();
                    $('#department').hide();
                    $('#course').prop('required', false);
                    $('#department').prop('required', false);

                    $('#email').show(); 
                    $('#password').show();
                    $('#name').show();
                    $('#surname').show();
                    $('#phone').show();

                    $('#matricola').show();
                    $('#registration_year').show();
                    $('#matricola').prop('required', true);
                    $('#registration_year').prop('required', true);
                    break;
            }
        });
    
    </script>
</body>
</html>
